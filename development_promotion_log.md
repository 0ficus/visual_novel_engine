Было начато составление эскиза движка, в котором будут присутствовать, как глобальные функции, так и вспомогательные классы, оснащенные методами и использующиеся в функциях (методы и особенности реализации будут описаны в отдельных файлах).

-------------------------------------------------------------------------------------------

(TODO: сделать иерархию классов, чтобы использовать наследование методов отрисовки и т.п.)

**Классы:**

  Scene (сцена), 
  
  Slot (слот), 
  
  Buttom (кнопка), 
  
  Dialogue_box (диалоговое окно), 
  
  Scenario (сценарий).

**Функции (псевдокод прототипов, приближенный к C++):**

```

  void set_background_picture(const Picture& picture);                                           // Настройка фона
  void set_slot_picture(const size_t slot_number, const Picture& picture),                       // Настройка слотов фона  
  void set_dialogue_box(const string& speaker, const string& replica, ...),                      // Настройка диалогового окна
  void set_actions(const pair<double, double> first_coors, const string& first_action_text, const pair<double, double> second_coors, const string& second_action_text),     // Настройка выбора действий  
  void set_sound(const Sound& sound, const size_t num_sound_road),                               // Настройка звукового сопровождения  
  void make_transition(const Picture& picture, const string& text, const time_t time).           // Осуществление перехода между сценами
```

**Прототипы классов (псевдокод прототипов, приближенный к C++):**
```
class DialogueBox {

public:

    //// КОНСТРУКТОРЫ, ДЕСТРУКТОР ////
    
private:

    //// МЕТОДЫ ////
    
    void SetSpeaker(...);
    
    void SetReplica(...);
    
    //// ПОЛЯ КЛАССА ////
    
    string speaker_;      // возможно, лучше string_view
    
    string replica_;      // возможно, лучше string_view
    
};

class Slot {

public:

    //// КОНСТРУКТОРЫ, ДЕСТРУКТОР ////
    
private:

    //// МЕТОДЫ ////
    
    void SetPicture(const Picture& picture);
    
    //// ПОЛЯ КЛАССА ////
    
    Picture picture_;
    
};

template <typename T = size_t>

class Buttom {

public:

    //// КОНСТРУКТОРЫ, ДЕСТРУКТОР ////
    
private:

    //// МЕТОДЫ ////
    
    TODO
    
    //// ПОЛЯ КЛАССА ////
    
    Picture picture_;
    
    std::function<T> functor_; 
    
};

class Scene {

public:

    //// КОНСТРУКТОРЫ, ДЕСТРУКТОР////
    
private:

    //// МЕТОДЫ ////
    
    void SetBackGround(...);
    
    void SetSlot(..., size_t number);
    
    void SetDialogueBox(...);
    
    void SetButtom(...);
    
    ////ПОЛЯ КЛАССА////
    
    Picture background_;
    
    DialoguBox dialogue_box_;
    
    std::vector<Slot> slots_;
    
    std::vector<Buttom> buttoms_;
    
};

class Scenario {

public:

    //// КОНСТРУКТОРЫ, ДЕСТРУКТОР ////
    
private:

    //// МЕТОДЫ ////
    
    void Update(const std::string& new_text);
    
    (TODO: персистентность)
    
    //// ПОЛЯ КЛАССА ////
    
    std::vector<std::string> scenario;
    
};
```
-------------------------------------------------------------------------------------------

Для реализации графического интерфейса планируется использовать библиотеку sfml.

-------------------------------------------------------------------------------------------

При начальном изучении sfml предполагается работа с многопоточностью, как минимум один поток будет отведен для поддерживания экрана приложения в активном состоянии, остальные (возможно, один) потоки будут воспроизводить функции движка.

-------------------------------------------------------------------------------------------

Создан класс, имеющий констукторы и дестркутор. Констуркторы запускают приложение разработчика с выставленными параметрами и обеспечивают активное состояние приложения за счет подключения дополнительного потока. Функция 'Finish()' в этом классе дожидается окончания отрисовки экрана приложения, то есть окончания действий запущенного в конструкторе потока.

-------------------------------------------------------------------------------------------

Добавлено пространство имен, для того, чтобы избежать коллизий с функциями и типами, которые реализованы в sfml и стандарте.

-------------------------------------------------------------------------------------------

Добавлены файлы object.h, object.cpp, которые будут содержать в себе абстрактные классы объектов, участвующих в визуальной новелле.

На данный момент object.h содержит в себе абстрактный класс Object, от которого наследуется класс DialogueBox.

В заголовочном файле на этапе разработки и планирования находится функция 'CreateDialogueBox()', также планируется создать шаблонную функцию 'Create()', которая будет принимать все классы, наследованные от класса Object.

------------------------------------------------------------------------------------------

Для хранения в одном месте объектов созданных классов (на данный момент DialogueBox) используется объект класса VarImpl.

------------------------------------------------------------------------------------------

Добавлен конструктор для класса Application, позволяющий настраивать иконку приложения.

------------------------------------------------------------------------------------------

При изучении sfml выяснилось, что на современных компиляторах лучше использовать std::thread, чем sf::Thread, потому часть кода, использующая многопоточность, была переписана.
